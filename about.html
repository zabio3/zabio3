<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="zabio3 - About">
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <title>About | zabio3</title>
</head>
<body>
    <canvas id="particle-canvas"></canvas>
    <div class="terminal">
        <div class="terminal-header">
            <div class="terminal-buttons">
                <span class="terminal-button red"></span>
                <span class="terminal-button yellow"></span>
                <span class="terminal-button green"></span>
            </div>
            <span class="terminal-title">zabio3@home ~/about</span>
        </div>
        <div class="terminal-body">
            <!-- Back link -->
            <a href="index.html" class="back-link">$ cd ..</a>

            <!-- About content -->
            <div class="command-line" style="margin-top: 20px;">
                <span class="prompt">$</span>
                <span class="command"> cat README.md</span>
            </div>
            <div class="command-output">
                <div class="about-content" style="text-align: center;">
                    <img src="https://avatars.githubusercontent.com/u/16008499?v=4" alt="zabio3" style="width: 120px; height: 120px; border-radius: 12px; margin-bottom: 16px; border: 2px solid var(--border-color);">
                    <p style="color: var(--text-white); font-size: 1.3rem; margin-bottom: 4px;">zabio3</p>
                    <p style="color: var(--text-gray); font-size: 0.9rem; margin-bottom: 16px;">（Tomohiro Kusumoto）</p>
                    <p style="color: var(--text-green); font-size: 0.9rem;">ソフトウェアを生業とする</p>
                </div>
            </div>

            <!-- Likes -->
            <div class="command-line" style="margin-top: 24px;">
                <span class="prompt">$</span>
                <span class="command"> cat <a href="favorites.html" style="color: inherit; text-decoration: none;">likes.txt</a></span>
            </div>
            <div class="command-output" style="text-align: center;">
                <span class="output" style="display: block; line-height: 1.8;">
                    苔テラリウム / 焚き火 / <a href="https://dashboard.dupr.com/dashboard/player/8385569267" target="_blank" rel="noopener noreferrer" style="color: var(--text-green); text-decoration: none;">ピックルボール <i class="fa-solid fa-table-tennis-paddle-ball" style="font-size: 0.8em;"></i></a>
                </span>
            </div>

            <!-- Hidden command output (initially hidden) -->
            <div id="hidden-output" style="display: none; margin-top: 24px;">
                <div class="command-line">
                    <span class="prompt">$</span>
                    <span class="command" id="typed-command"></span><span id="cursor" style="color: var(--text-green);">_</span>
                </div>
                <div class="command-output" id="ls-output" style="display: none;">
                    <span class="output" style="display: block; line-height: 1.8;">
                        .&nbsp;&nbsp;..&nbsp;&nbsp;README.md&nbsp;&nbsp;likes.txt&nbsp;&nbsp;<a href="favorites.html" style="color: var(--text-cyan); text-decoration: none; text-shadow: 0 0 8px var(--text-cyan);">.favorites/</a>
                    </span>
                </div>
            </div>

        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Hidden command: ls -a
        (function() {
            const targetCommand = 'ls -a';
            let inputBuffer = '';
            let isAnimating = false;

            document.addEventListener('keydown', (e) => {
                // Ignore if typing in input field or already animating
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || isAnimating) return;

                // Build input buffer
                if (e.key.length === 1) {
                    inputBuffer += e.key;
                } else if (e.key === 'Backspace') {
                    inputBuffer = inputBuffer.slice(0, -1);
                } else if (e.key === 'Escape') {
                    inputBuffer = '';
                }

                // Keep buffer at reasonable length
                if (inputBuffer.length > 20) {
                    inputBuffer = inputBuffer.slice(-20);
                }

                // Check if buffer ends with target command
                if (inputBuffer.endsWith(targetCommand)) {
                    inputBuffer = '';
                    triggerHiddenCommand();
                }
            });

            function triggerHiddenCommand() {
                isAnimating = true;
                const hiddenOutput = document.getElementById('hidden-output');
                const typedCommand = document.getElementById('typed-command');
                const cursor = document.getElementById('cursor');
                const lsOutput = document.getElementById('ls-output');

                // Show the hidden output container
                hiddenOutput.style.display = 'block';

                // Scroll to the hidden output
                hiddenOutput.scrollIntoView({ behavior: 'smooth', block: 'center' });

                // Type out the command with animation
                const command = ' ls -a';
                let charIndex = 0;

                function typeChar() {
                    if (charIndex < command.length) {
                        typedCommand.textContent += command[charIndex];
                        charIndex++;
                        setTimeout(typeChar, 80);
                    } else {
                        // Command finished typing, show output after a short pause
                        setTimeout(() => {
                            cursor.style.display = 'none';
                            lsOutput.style.display = 'block';

                            // Auto-navigate after 2 seconds
                            setTimeout(() => {
                                window.location.href = 'favorites.html';
                            }, 2000);
                        }, 300);
                    }
                }

                // Start typing after a short delay
                setTimeout(typeChar, 200);
            }
        })();
    </script>
</body>
</html>
